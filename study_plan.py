"""
B1 Exam Preparation: 20-Day Study Plan
Structured content for each day.
"""

STUDY_DAYS = {
    1: {
        "title": "Nebensätze mit 'weil' und 'dass'",
        "week": 1,
        "grammar": """
In subordinate clauses with "weil" (because) and "dass" (that), the conjugated verb moves to the END.

Structure: Main clause + weil/dass + Subject + ... + VERB

Examples:
- Ich lerne Deutsch, weil ich in Berlin wohne.
- Ich glaube, dass das Wetter morgen schön ist.
- Sie kommt nicht, weil sie krank ist.

Common mistake - verb must go to end:
- WRONG: Ich komme nicht, weil ich bin müde.
- RIGHT: Ich komme nicht, weil ich müde bin.
""",
        "key_phrases": [
            "Ich finde, dass... (I think that...)",
            "Ich glaube, dass... (I believe that...)",
            "Es ist wichtig, dass... (It's important that...)",
            "Der Grund ist, weil... (The reason is because...)",
        ],
        "exercises": [
            "Complete: Ich lerne Deutsch, weil ich _______ (einen Job in Deutschland / finden / möchten)",
            "Complete: Sie sagt, dass sie morgen _______ (kommen / nicht können)",
            "Connect with 'weil': Ich bin müde. + Ich habe schlecht geschlafen.",
        ],
        "speaking_prompts": [
            "Warum lernst du Deutsch?",
            "Warum wohnst du in deiner Stadt?",
            "Was denkst du über das Wetter heute? (Use 'Ich denke, dass...')",
        ],
    },
    2: {
        "title": "Nebensätze mit 'wenn' und 'ob'",
        "week": 1,
        "grammar": """
"wenn" = when / if (for conditions or repeated events)
"ob" = whether / if (for indirect yes/no questions)

Same rule: Verb goes to the END.

Examples with "wenn":
- Wenn ich Zeit habe, gehe ich ins Kino.
- Ich freue mich, wenn du kommst.

Examples with "ob":
- Ich weiß nicht, ob er heute kommt.
- Kannst du mir sagen, ob der Laden noch geöffnet ist?

Key difference:
- "wenn" = condition/time
- "ob" = uncertainty/indirect yes-no question
""",
        "key_phrases": [
            "Wenn ich Zeit habe, ... (When/If I have time...)",
            "Ich weiß nicht, ob... (I don't know if/whether...)",
            "Können Sie mir sagen, ob...? (Can you tell me if...?)",
        ],
        "exercises": [
            "'wenn' or 'ob'? Ich frage mich, _____ das Geschäft noch offen ist.",
            "'wenn' or 'ob'? _____ du möchtest, können wir zusammen essen gehen.",
            "Form sentence: (ich / nicht wissen / ob / er / haben / Zeit)",
        ],
        "speaking_prompts": [
            "Transform: 'Kommt Maria heute?' -> 'Ich weiß nicht, ob...'",
            "Was machst du, wenn du am Wochenende frei hast?",
            "Was machst du, wenn das Wetter schlecht ist?",
        ],
    },
    3: {
        "title": "Perfekt (Regular Verbs)",
        "week": 1,
        "grammar": """
Perfekt = German conversational past tense (most common in speaking)

Structure: Subject + haben/sein + ... + Past Participle (at the end)

Regular verbs (weak verbs): ge- + stem + -t
- machen -> gemacht
- lernen -> gelernt
- arbeiten -> gearbeitet (extra -e- for stems ending in -t/-d)

Separable verbs: einkaufen -> eingekauft (ge- goes in middle)
Inseparable (be-, ver-, er-): besuchen -> besucht (no ge-)

Examples:
- Ich habe gestern viel gearbeitet.
- Wir haben Deutsch gelernt.
""",
        "key_phrases": [
            "Ich habe ... gemacht. (I did/made...)",
            "Was hast du gestern gemacht? (What did you do yesterday?)",
            "Hast du schon ... ge___t?",
        ],
        "exercises": [
            "Form Partizip II: spielen -> ?",
            "Form Partizip II: einkaufen -> ?",
            "Put into Perfekt: Ich (machen) meine Hausaufgaben.",
        ],
        "speaking_prompts": [
            "Was hast du gestern gemacht? (Give 3-4 activities)",
            "Hast du heute schon gefrühstückt?",
            "Was hast du am Wochenende gemacht?",
        ],
    },
    4: {
        "title": "Perfekt (Irregular Verbs + sein)",
        "week": 1,
        "grammar": """
Irregular verbs (strong verbs): Vowel change + -en ending
- schreiben -> geschrieben
- lesen -> gelesen
- essen -> gegessen
- sprechen -> gesprochen

Verbs with "sein" (movement or state change):
- gehen -> Ich bin gegangen.
- fahren -> Wir sind gefahren.
- fliegen -> Er ist geflogen.
- bleiben -> Ich bin geblieben.

Essential forms to memorize:
sein -> gewesen, haben -> gehabt
gehen -> gegangen, kommen -> gekommen
fahren -> gefahren, essen -> gegessen
schlafen -> geschlafen, sehen -> gesehen
""",
        "key_phrases": [
            "Ich bin nach ... gefahren/gegangen/geflogen.",
            "Wir sind ... geblieben.",
            "Ich habe ... gegessen/getrunken/gesehen.",
        ],
        "exercises": [
            "haben or sein? Ich _____ nach Berlin gefahren.",
            "haben or sein? Sie _____ einen Kaffee getrunken.",
            "Form Perfekt: (ich / fahren / nach München)",
        ],
        "speaking_prompts": [
            "Erzähl mir von deiner letzten Reise. Wohin bist du gefahren?",
            "Wann bist du heute aufgestanden?",
            "Was hast du heute gegessen?",
        ],
    },
    5: {
        "title": "Review + Dativ Prepositions",
        "week": 1,
        "grammar": """
REVIEW: weil, dass, wenn, ob + Perfekt

NEW: Dativ Prepositions - Always Dativ: aus, bei, mit, nach, seit, von, zu

Dativ forms:
- der -> dem, die -> der, das -> dem, die (pl) -> den (+n)
- ein -> einem, eine -> einer

Examples:
- Ich komme aus der Schweiz. (from)
- Ich wohne bei meiner Freundin. (at someone's place)
- Ich fahre mit dem Auto. (with/by)
- Nach dem Essen gehe ich spazieren. (after)
- Seit einem Jahr lerne ich Deutsch. (since/for)
- Ich gehe zum Arzt. (zu + dem = zum)
""",
        "key_phrases": [
            "Ich fahre mit dem Zug/Bus/Auto.",
            "Ich wohne seit [Zeit] in [Stadt].",
            "Nach der Arbeit...",
            "Ich komme aus [Land].",
        ],
        "exercises": [
            "Fill in: Ich fahre mit _____ (der Bus).",
            "Fill in: Nach _____ (das Frühstück) gehe ich zur Arbeit.",
            "Review: Form a sentence with 'weil'.",
        ],
        "speaking_prompts": [
            "Woher kommst du?",
            "Seit wann lernst du Deutsch?",
            "Wie fährst du zur Arbeit?",
        ],
    },
    6: {
        "title": "Konjunktiv II: würde + Infinitiv",
        "week": 2,
        "grammar": """
Konjunktiv II = Subjunctive for polite requests, hypotheticals, wishes, suggestions

Structure: würde + ... + Infinitiv (at the end)

Conjugation: ich würde, du würdest, er/sie würde, wir würden, ihr würdet, sie/Sie würden

Examples:
- Ich würde gern nach Japan reisen.
- Würdest du mir bitte helfen?
- Was würden Sie empfehlen?
""",
        "key_phrases": [
            "Ich würde gern... (I would like to...)",
            "Würdest du bitte...? (Would you please...?)",
            "An deiner Stelle würde ich... (In your place, I would...)",
        ],
        "exercises": [
            "Transform to polite: Können Sie mir helfen? -> _______ Sie mir bitte _______?",
            "What would you do? Du hast viel Geld.",
        ],
        "speaking_prompts": [
            "Ask politely: for directions",
            "Ask politely: for a recommendation at a restaurant",
            "Was würdest du machen, wenn du viel Geld hättest?",
        ],
    },
    7: {
        "title": "Konjunktiv II: hätte, wäre, könnte",
        "week": 2,
        "grammar": """
Special Konjunktiv II forms (more elegant than würde + haben/sein/können):

hätte (would have): ich hätte, du hättest, er hätte, wir hätten
wäre (would be): ich wäre, du wärst, er wäre, wir wären
könnte (could): ich könnte, du könntest, er könnte, wir könnten

Examples:
- Wenn ich mehr Zeit hätte, würde ich mehr Sport machen.
- Das wäre sehr nett von dir.
- Könntest du mir helfen?
- Es wäre schön, wenn du kommen könntest.
""",
        "key_phrases": [
            "Das wäre eine gute Idee!",
            "Wir könnten...",
            "Hättest du Zeit am...?",
            "Könnten wir vielleicht...?",
        ],
        "exercises": [
            "würde or hätte/wäre/könnte? Ich _______ gern mehr Geld.",
            "Complete: Wenn ich reich _______, würde ich...",
        ],
        "speaking_prompts": [
            "Making suggestions: Wir möchten am Wochenende etwas zusammen machen. Was könnten wir machen?",
            "Was wäre dein Traumjob?",
            "Wo würdest du am liebsten wohnen?",
        ],
    },
    8: {
        "title": "Meinungsäußerung (Expressing Opinions)",
        "week": 2,
        "grammar": """
PHRASES focused day - essential for Schreiben and Sprechen!

Stating opinion:
- Meiner Meinung nach... (In my opinion...)
- Ich bin der Meinung, dass... (I am of the opinion that...)
- Ich finde/denke/glaube, dass...

Agreeing:
- Da hast du recht. / Das stimmt.
- Ich bin ganz deiner Meinung.

Disagreeing politely:
- Ich sehe das anders.
- Das stimmt, aber...

Giving reasons:
- Der Grund dafür ist, dass...
- Deshalb/Deswegen...
""",
        "key_phrases": [
            "Meiner Meinung nach...",
            "Ich bin der Meinung, dass...",
            "Da hast du recht, aber...",
            "Ich sehe das anders.",
        ],
        "exercises": [
            "React: 'Kinder sollten kein Smartphone haben.'",
            "Write 3-4 sentences: 'Sollte man jeden Tag Sport machen?'",
        ],
        "speaking_prompts": [
            "Was denkst du: Social Media ist schlecht für Jugendliche?",
            "Was ist deine Meinung: Homeoffice oder Büro?",
            "Leben in der Stadt vs. auf dem Land?",
        ],
    },
    9: {
        "title": "Komparativ und Superlativ",
        "week": 2,
        "grammar": """
Komparativ (comparing): Adjektiv + -er + als
Superlativ (the most): am + Adjektiv + -sten

Regular: schnell -> schneller -> am schnellsten

Irregular (memorize!):
- gut -> besser -> am besten
- gern -> lieber -> am liebsten
- viel -> mehr -> am meisten

With Umlaut (common one-syllable):
- alt -> älter -> am ältesten
- groß -> größer -> am größten
- jung -> jünger -> am jüngsten
""",
        "key_phrases": [
            "Ich finde X besser/schöner als Y.",
            "Am wichtigsten ist...",
            "X ist genauso [adj] wie Y.",
        ],
        "exercises": [
            "Form: interessant -> _______ -> _______",
            "Form: gern -> _______ -> _______",
            "Compare: Berlin / München / groß",
        ],
        "speaking_prompts": [
            "Was isst du lieber: Pizza oder Pasta?",
            "Was machst du am liebsten am Wochenende?",
            "Vergleiche das Leben in Deutschland mit deinem Heimatland.",
        ],
    },
    10: {
        "title": "Relativsätze (Relative Clauses)",
        "week": 2,
        "grammar": """
Relativsätze describe a noun. Relative pronoun matches the GENDER of the noun.

Nominativ: der, die, das, die (plural)
Akkusativ: den, die, das, die (plural)

Structure: Noun + , + relative pronoun + ... + VERB.

Examples (Nominativ - pronoun is subject):
- Der Mann, der dort steht, ist mein Bruder.
- Die Frau, die Deutsch spricht, kommt aus Österreich.

Examples (Akkusativ - pronoun is object):
- Der Film, den ich gesehen habe, war toll.
- Die Pizza, die wir bestellt haben, war lecker.

After etwas/alles/nichts -> use "was"
""",
        "key_phrases": [
            "Das ist der Mann/die Frau, der/die...",
            "Das Buch, das ich gelesen habe...",
            "Das ist etwas, was ich nicht verstehe.",
        ],
        "exercises": [
            "Fill in: Das ist der Computer, _____ ich gekauft habe.",
            "Fill in: Die Frau, _____ dort sitzt, ist meine Lehrerin.",
            "Combine: Ich kenne einen Mann. Der Mann spricht fünf Sprachen.",
        ],
        "speaking_prompts": [
            "Beschreibe dein Lieblingsbuch. (Use: Das ist ein Buch, das...)",
            "Beschreibe eine Person, die wichtig für dich ist.",
        ],
    },
    11: {
        "title": "'obwohl' und 'trotzdem'",
        "week": 3,
        "grammar": """
Both express contrast (although/despite), but different structures:

obwohl (subordinating) -> Verb at END
- Obwohl es regnet, gehe ich spazieren.

trotzdem (adverb) -> Normal word order (verb position 2)
- Es regnet. Trotzdem gehe ich spazieren.

Examples:
- Obwohl er müde ist, arbeitet er weiter.
- Er ist müde. Trotzdem arbeitet er weiter.
""",
        "key_phrases": [
            "Obwohl es schwierig ist, ...",
            "Trotzdem finde ich, dass...",
            "Einerseits..., andererseits...",
        ],
        "exercises": [
            "obwohl or trotzdem? _______ das Wetter schlecht ist, gehen wir wandern.",
            "Transform: Obwohl er krank ist, geht er zur Arbeit. -> Trotzdem...",
        ],
        "speaking_prompts": [
            "Manche sagen Social Media ist nur schlecht. Was denkst du? (Use obwohl/trotzdem)",
            "Erzähl etwas, was du machst, obwohl du weißt, dass es nicht ideal ist.",
        ],
    },
    12: {
        "title": "'um...zu' und 'damit' (Purpose Clauses)",
        "week": 3,
        "grammar": """
Both express purpose (in order to):

um...zu -> Same subject, no conjugated verb
- Ich lerne Deutsch, um in Deutschland zu arbeiten.

damit -> Different subjects possible, verb conjugated at end
- Ich spreche langsam, damit du mich verstehst.

Rule: If same subject in both parts, use um...zu. If different subjects, use damit.
""",
        "key_phrases": [
            "Ich lerne Deutsch, um ... zu können.",
            "Um ... zu ..., muss man...",
            "Ich mache das, damit...",
        ],
        "exercises": [
            "um...zu or damit? Ich lerne viel, _______ die Prüfung zu bestehen.",
            "um...zu or damit? Er erklärt es noch einmal, _______ alle es verstehen.",
        ],
        "speaking_prompts": [
            "Warum lernst du Deutsch? Was ist dein Ziel? (Use um...zu)",
            "Was machst du, um gesund zu bleiben?",
            "Was machst du, um dein Deutsch zu verbessern?",
        ],
    },
    13: {
        "title": "Adjektivdeklination (Basics)",
        "week": 3,
        "grammar": """
Adjective endings change based on case and article type.

After definite articles (der, die, das):
Simplified rule: Nominativ (except plural) = -e, everything else = -en

Nominativ: der große Mann, die große Frau, das große Kind
Akkusativ: den großen Mann, die große Frau, das große Kind
Dativ: dem großen Mann, der großen Frau, dem großen Kind
""",
        "key_phrases": [
            "der nächste Schritt",
            "die wichtigste Frage",
            "mit dem neuen Auto",
        ],
        "exercises": [
            "Add ending: Der neu___ Computer ist schnell.",
            "Add ending: Ich kaufe das rot___ Kleid.",
            "Add ending: Wir fahren mit dem alt___ Auto.",
        ],
        "speaking_prompts": [
            "Beschreibe deine Wohnung mit Adjektiven.",
            "Was für Filme magst du? (die spannenden Filme, die interessanten...)",
        ],
    },
    14: {
        "title": "Präteritum (sein, haben, Modalverben)",
        "week": 3,
        "grammar": """
Präteritum for common verbs (used constantly in speech):

sein: ich war, du warst, er war, wir waren, ihr wart, sie waren
haben: ich hatte, du hattest, er hatte, wir hatten, ihr hattet, sie hatten

Modalverben:
- können -> konnte/konnten
- müssen -> musste/mussten
- wollen -> wollte/wollten
- sollen -> sollte/sollten
- dürfen -> durfte/durften
""",
        "key_phrases": [
            "Das war toll/schön/interessant!",
            "Ich hatte leider keine Zeit.",
            "Ich konnte nicht kommen, weil...",
            "Wir mussten früh aufstehen.",
        ],
        "exercises": [
            "Conjugate: sein (ich, wir, sie-plural)",
            "Put into Präteritum: Das (sein) ein schöner Tag.",
            "Put into Präteritum: Wir (müssen) um 6 Uhr aufstehen.",
        ],
        "speaking_prompts": [
            "Erzähl von einem schönen Erlebnis. Wie war es?",
            "React: 'Der Film war 3 Stunden lang.'",
        ],
    },
    15: {
        "title": "Review + Indirekte Fragen",
        "week": 3,
        "grammar": """
REVIEW: obwohl, trotzdem, um...zu, damit, Adjektivdeklination, Präteritum

NEW: Indirekte Fragen

Direct -> Indirect (verb goes to END):
- Wo ist der Bahnhof? -> Können Sie mir sagen, wo der Bahnhof ist?
- Wann kommt der Zug? -> Ich möchte wissen, wann der Zug kommt.

Yes/No questions -> use "ob":
- Ist das Geschäft offen? -> Wissen Sie, ob das Geschäft offen ist?
""",
        "key_phrases": [
            "Können Sie mir sagen, ...?",
            "Wissen Sie, ...?",
            "Ich möchte wissen, ...",
            "Ich frage mich, ...",
        ],
        "exercises": [
            "Transform: Wo ist die Toilette? -> Können Sie mir sagen, ...?",
            "Transform: Hat der Laden geöffnet? -> Wissen Sie, ...?",
        ],
        "speaking_prompts": [
            "Ask indirectly: Where is the train station?",
            "Ask indirectly: What time does the museum close?",
            "Ask indirectly: Is there a pharmacy nearby?",
        ],
    },
    16: {
        "title": "Schreiben Teil 1 (Email to Friend)",
        "week": 4,
        "grammar": """
EXAM SKILL: Informal Email (~80 words, 20 min)
Content: 3 points - describe, explain reason, make suggestion

STRUCTURE:
1. Anrede: Liebe/Lieber [Name],
2. Einleitung: Vielen Dank für deine Nachricht.
3. Punkt 1: Description (2-3 sentences)
4. Punkt 2: Reason with "weil" / "deshalb" (2-3 sentences)
5. Punkt 3: Suggestion with Konjunktiv II (1-2 sentences)
6. Schluss: Ich freue mich auf deine Antwort!
7. Gruß: Liebe Grüße, [Name]
""",
        "key_phrases": [
            "Vielen Dank für deine Nachricht.",
            "Schade, dass du nicht kommen konntest!",
            "Wollen wir uns nächste Woche treffen?",
            "Hättest du am Samstag Zeit?",
        ],
        "exercises": [
            "Practice task: You had a birthday party. A friend couldn't come. Describe the party, explain your favorite gift, suggest meeting.",
        ],
        "speaking_prompts": [
            "Dictate your email response (I'll give feedback)",
        ],
    },
    17: {
        "title": "Schreiben Teil 2 (Opinion Text)",
        "week": 4,
        "grammar": """
EXAM SKILL: Opinion Text (~80 words, 25 min)
Express opinion on a forum topic.

STRUCTURE:
1. Bezug: Ich habe den Kommentar von [Name] gelesen...
2. Eigene Meinung: Ich bin der Meinung, dass...
3. Argument 1 + Beispiel: Erstens... Zum Beispiel...
4. Argument 2 oder Gegenargument: Außerdem... / Andererseits...
5. Schluss: Zusammenfassend finde ich, dass...
""",
        "key_phrases": [
            "Ich stimme [Name] zu / nicht zu.",
            "Meiner Erfahrung nach...",
            "Ein Beispiel dafür ist...",
            "Einerseits..., andererseits...",
        ],
        "exercises": [
            "Topic: 'Kontakte im Internet können persönliche Treffen nicht ersetzen.' Write your opinion.",
        ],
        "speaking_prompts": [
            "State your opinion with structure: opinion -> reason -> example -> conclusion",
            "I'll disagree with your points - defend your position!",
        ],
    },
    18: {
        "title": "Schreiben Teil 3 + Sprechen Teil 1",
        "week": 4,
        "grammar": """
SCHREIBEN TEIL 3: Formal Short Email (~40 words, 15 min)
Usually: apologize + explain + request

STRUCTURE:
- Sehr geehrte/r Frau/Herr [Name],
- Ich schreibe Ihnen, weil...
- Es tut mir leid, dass ich... / Leider kann ich nicht...
- Könnten Sie bitte...?
- Mit freundlichen Grüßen, [Name]

SPRECHEN TEIL 1: Planning Together
Make suggestions, agree/disagree, reach agreement.
""",
        "key_phrases": [
            "Ich schlage vor, dass wir...",
            "Wie wäre es, wenn wir...?",
            "Das ist eine gute Idee!",
            "Wäre es nicht besser, wenn...?",
            "Also, wir machen es so: ...",
        ],
        "exercises": [
            "Write formal email: Cancel appointment, explain why, suggest new time.",
        ],
        "speaking_prompts": [
            "Roleplay: A colleague is in hospital. Plan a visit together. (When? How to get there? What to bring?)",
        ],
    },
    19: {
        "title": "Sprechen Teil 2 (Presentation)",
        "week": 4,
        "grammar": """
EXAM SKILL: Present topic following 5 slides (3-4 minutes)

THE 5 SLIDES:
1. Thema vorstellen - Introduction, structure overview
2. Eigene Erfahrung - Personal connection
3. Situation im Heimatland - Examples from your country
4. Vor- und Nachteile - Pros, cons, your opinion
5. Abschluss - Conclusion, thank audience
""",
        "key_phrases": [
            "Folie 1: Ich möchte heute über das Thema '...' sprechen.",
            "Folie 2: Ich persönlich habe Erfahrung mit...",
            "Folie 3: In meinem Heimatland ist die Situation so: ...",
            "Folie 4: Ein Vorteil/Nachteil ist, dass...",
            "Folie 5: Zusammenfassend kann ich sagen, dass... Vielen Dank!",
        ],
        "exercises": [
            "Prepare presentation: 'Soll man Fremdsprachen in der Schule lernen?'",
        ],
        "speaking_prompts": [
            "Give full 3-minute presentation on: 'Braucht man heute noch ein Auto?'",
            "Give full presentation on: 'Sind soziale Medien gut oder schlecht?'",
        ],
    },
    20: {
        "title": "Full Exam Simulation + Final Review",
        "week": 4,
        "grammar": """
FINAL DAY: Complete mock exam + review weak points

CHECKLIST - Can you produce these correctly?
Grammar:
- Nebensätze (weil, dass, wenn, ob, obwohl)
- Konjunktiv II (würde, hätte, wäre, könnte)
- Relativsätze (der, die, das)
- Perfekt (haben vs. sein)
- Komparativ und Superlativ
- um...zu und damit
- Indirekte Fragen

Exam skills:
- Schreiben Teil 1, 2, 3
- Sprechen Teil 1, 2
""",
        "key_phrases": [
            "All phrases from previous days!",
        ],
        "exercises": [
            "Full mock exam simulation",
            "Review any weak grammar points",
        ],
        "speaking_prompts": [
            "Rapid fire: 20 random questions - answer within 10 seconds each!",
            "Which part was most difficult?",
            "What grammar did you struggle with?",
        ],
    },
}


def get_day(day_number: int) -> dict | None:
    """Get content for a specific day."""
    return STUDY_DAYS.get(day_number)


def get_day_title(day_number: int) -> str:
    """Get just the title for a day."""
    day = STUDY_DAYS.get(day_number)
    return day["title"] if day else f"Day {day_number}"


def get_all_days_summary() -> list[dict]:
    """Get summary of all days."""
    return [
        {"day": num, "title": day["title"], "week": day["week"]}
        for num, day in STUDY_DAYS.items()
    ]
